
# マテリアル

## 概要

専用のツール（マテリアルエディタ）でEffekseerで使用するマテリアルを作成します。
マテリアルでは、パーティクルの描画の仕方を指定します。

マテリアルエディタではノードを使用して計算式を記述できます。
その計算の結果がパーティクルとして表示されます。

TODO：図

マウスの左のドラッグでノードの入力と出力を接続できます。

右クリックで表示されるメニューから新規のノードに接続できます。

TODO:図

最も簡単な構成は、定数3と出力の2つのノードです。

定数3では、値を3つ指定できます。
出力では、最終的に出力される値を受け取ります。

出力のEmissiveの入力ピンと、定数3の出力ピンを接続します。

そうすると、パーティクルに定数3の値が表示されます。

TODO : 図

## 詳細な操作方法

### ノードの移動

左クリックで選択した後、左のドラッグで移動できます。

### ノードの検索

画面を右クリックしたメニューにキーワードを入力すると、そのキーワードが含まれるノードのみが表示されます。
キーワードはマウスオーバーで確認できます。

### ノード、線の削除

左クリックで選択し、右クリックを押すと削除がメニューに表示されます。
削除を選択するとノード、線を削除できます。

### パラメーターの説明

パラメーターには概要と説明を記述できます。
この概要と説明はEffekseerに表示されます。
わかりやすく説明を書くことを推奨します。

### ショートカット

Ctrl + Z - UNDO
Ctrl + ? - REDO
Ctrl + C - Copy
Ctrl + V - 貼り付け
Ctrl + S - 上書き保存

## パラメーター、カスタムデータ

一部のノードはマテリアルの外側からパラメーターを設定できます。
パラメーターのノードを使用すると、Effekseerにパラメーターが表示されます。
カスタムデータも同様に外部からパラメーターを設定できます。

パラメーターとカスタムデータの違いは、パラメーターはパーティクルごとに値が共通です。
一方、カスタムデータはパーティクルごとに異なる値を設定できます。

## ノード

マテリアルエディタには様々なノードがあります。

### 出力

最終的に出力される値を設定できます。

出力では、ライティングの種類を設定できます。

現在、ライティングにはLit、とUnlitがあります。
Litを設定すると、光源の影響を受けるようになります。
Unlitを設定すると、入力された値を表示します。

TODO : 画像

#### BaseColor (float3)

Litの場合のみ有効です。マテリアルの色を入力します。

#### Emissive (float3)

マテリアルの発光する色を入力します。
Unlitの場合、表示する色を入力します。

#### Alpha (float1)

透明度を入力します。

#### Mask (float1)

マスクを入力します。0以下の場合、全く表示されなくなります。

#### Roughness (float1)

Litの場合のみ有効です。面の粗さを入力します。

#### Normal (float3)

Litの場合のみ有効です。法線の方向を入力します。

#### WorldPositionOffset (float3)

頂点の移動距離を入力します。

#### Refraction (float1)

屈折率を入力します。屈折率が1の場合、屈折しません。
屈折率が1出ない場合、背景を屈折して入力します。
1以上の値を入力します。

### Constant1,2,3,4

プロパティに指定された値を出力します。

### Parameter1,4

外部から設定されたパラメーターを出力します。
パラメーターに設定された概要と詳細はEffekseerや外部のツールに表示されます。

### Abs

入力された値の絶対値を出力します。

### Sine

入力された値のSineを出力します。

### Arctangent2

入力された値のArctangentを出力します。

### Add

入力された2つの値を足した結果を出力します。
Value1にはFloat1～4の型の値、Value2にはFloat1かValue2と同じ型の値を入力します。
Value1とValue2の型が同じ場合、各要素を足した値が出力されます。
Value2がFloat1の場合、Value1の各要素にValue2を足した値が出力されます。

#### 入力

- Value1

計算に使用される値です。

- Value2

計算に使用される値です。

#### 出力

- Output

計算結果です。

#### プロパティ

- Value1

Value1の入力ピンが接続されていない場合、このプロパティを使用します。

- Value2

Value2の入力ピンが接続されていない場合、このプロパティを使用します。




### 未ドキュメント化

	Subtract,　引き算
	Multiply,　掛け算
	Divide,　割り算
	FMod,　あまり
	Ceil,　切り上げ
	Floor,　切り下げ
	Frac,　小数部
	Max,　最大
	Min,　最小
	Power,　畳数
	SquareRoot,　ルート
	Clamp,　クランプ
	DotProduct,　内積
	CrossProduct,　外積
	LinearInterpolate,　線形補間　
	OneMinus,　1-x
	ComponentMask, 要素抽出
	AppendVector,　要素結合
	TextureCoordinate,　UV座標
	Panner,　移動UV座標
	TextureObject,　画像
	TextureObjectParameter,　画像パラメーター
	SampleTexture,　画像参照
	Time,　時間
	VertexNormalWS,　法線
	PixelNormalWS,　法線
	VertexColor,　頂点カラー
	CustomData1,　カスタムデータ
	CustomData2,　カスタムデータ
	Comment,　コメント
